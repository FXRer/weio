<!--###################################
#                                     #
#       HOW TO SEND EVENTS FROM       # 
#	  JAVASCRIPT TO PYTHON ON WEIO    #
#                                     #
#######################################

# Description: write digital values to PINS 18, 19 & 20 (connected to
  			   RGB LED) when an event is emited from user interface.
# WeIO functions: genericMessage(eventName, message) 
-->

<!DOCTYPE html>
<html lang="en">

<head >
    <link rel="stylesheet" type="text/css" href="myStyle.css">
    <!-- This is main weio api please call it always at first place -->
    <script src="www/libs/weio/weioApi.js"></script>
</head>

<body>
    
    <script>
    
        // This function is called when the DOM is fully 
        // loaded and websocket to WeIO is fully opened
        function onWeioReady() {
            colors();
        }
        
        var light = 0;
        
        function colors() {
            // Test color var to know current state
            if (light==0) {
                // Change phrase, background and font color
                $("#phrase").html("color is BLUE!");
                $("body").css("background","blue");
                $("#phrase").css("color","white");
                
                // Send event "colorled" with message 1
                genericMessage("colorled", 0);
                light++;
            } 
            else if (light==1) {
                // Change phrase, background and font color
                $("#phrase").html("color is RED!");
                $("body").css("background","red");
                $("#phrase").css("color","white");
                
                // Send event "colorled" with message 1
                genericMessage("colorled", 1);
                light++;
            }
            else if (light==2) {
                // Change phrase, background and font color
                $("#phrase").html("color is GREEN!");
                $("body").css("background","green");
                $("#phrase").css("color","white");
                
                // Send event "colorled" with message 2
                genericMessage("colorled", 2);
                light = 0;
            }
        }
    </script>
    
    <font>
        <p id="phrase" onclick="colors()"></p>
    </font>
	
</body>

</html>