<!--###################################
#                                     #
#    HOW TO HAVE PWMWRITE ON WEIO     #
#                                     #
#######################################

# syntax = pwmWrite(pin,value) or analogWrite(pin,value)
# Value by default is between 0 and 100
# there are 6 pwm pins (23, 22, 21, 20, 19, 18)
# pins 18, 19, 20 are connected on RGB LED on the board

-->

<!DOCTYPE html>
<html lang="en">

<head >
    <!-- Import weioLibs and link your css style -->
    <!-- This is main weio api please call it always at first place -->
    <script src="www/libs/weio/weioApi.js"></script>
    <script src="www/libs/jquery/jquery-2.0.2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="myStyle.css">

    <script>

    // This function is called when DOM is loaded and websocket is opened
    function onWeioReady() {
        myPwm();
    }

    // init dutyCycle variable
    var dutyCycle = 0;

    function myPwm() {
        // Change displayed phrase
        $("#phrase").html("CLICK HERE TO CHANGE PWM DUTY CYCLE \
							ON PIN 18: " + dutyCycle + "%");
        // write value of pwm dutyCyacle on pin 18
        pwmWrite(18, dutyCycle);
        // increment duty cycle
        dutyCycle = dutyCycle+5;
        // Reset counter when it reaches 100
        if(dutyCycle > 100){
            dutyCycle=0;
        }
    }

    </script>
</head>

<body>
    <p id="phrase" onclick="myPwm()"></p>
</body>

</html>
